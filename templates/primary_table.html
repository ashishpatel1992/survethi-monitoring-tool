<!doctype html>
<table
    id="table_primary"
    data-toggle="table"
    data-pagination="true"
    data-page-size="5"
    data-url=""
    data-page-list="[5,10,20,50,All]"
    data-search="false"
    data-undefined-text=""
    >
    <thead>
        <tr>
            <th data-sortable="true" data-field="COUNT">Count</th>
            <th data-sortable="true" data-field="DIS_DESC">Disease</th>
            <th data-sortable="true" data-field="PAT_CITY">Town</th>
            <th data-sortable="true" data-field="PAT_ADDR">Kebele</th>
            <!-- <th data-sortable="true" data-field="LOC_LAT">Latitude</th>
            <th data-sortable="true" data-field="LOC_LONG">Longitude</th> -->
            <th id="location" data-sortable="true" data-field="LOC_OK" data-cell-style="cellStyle" data-width="1">L</th>
        </tr>
    </thead>
</table>

<script type="text/javascript">

    /**
     * (function) update table from URL
     */ 
     function update_table(newUrl) {
        var myTable = $('#table_primary');
        myTable.bootstrapTable('refresh', {url: newUrl});
        myTable.bootstrapTable('resetView');
        myTable.bootstrapTable('resetSearch');
        //console.log(myTable.bootstrapTable("getData"));
        
    }

    /**
     * (function) update table with data
     */
    function update_table_data(data) {
        var myTable = $('#table_primary');
        myTable.bootstrapTable('load', data)
        myTable.bootstrapTable('resetView');
        myTable.bootstrapTable('resetSearch');
        tippy('#table_primary', {
            content: "Data with applied filters",
        });
    }

    function cellStyle(value, row, index) {
        
        //console.log(row);

        if (row['LOC_OK'] == 1) {
            return {
                css: { color: '#2ECC40' },
                classes: 'bg-green'
            }  
        }

        return {
            css: { color: '#FFDC00' },
            classes: 'bg-yellow'
        }
    }

</script>